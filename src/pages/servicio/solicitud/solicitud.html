<ion-header>
  <ion-navbar color="blanco">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-avatar item-start >
      <img class="logo" src="https://res.cloudinary.com/saschanutric/image/upload/v1524779283/logosascha.png">
    </ion-avatar>
    <ion-buttons end>
      <button ion-button icon-only (click)="verNotificacion()">
        <ion-icon name="notifications"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content>
  <ion-item>
    <h2 align="center">Solicitud</h2>
  </ion-item>
  <ion-card>
    <ion-item>
      <h2 align="center">{{ solicitudes[0].servicio.nombre }}</h2>
    </ion-item>
    <ion-item>
      <ion-thumbnail item-start align-items-center>
        <img src="{{ solicitudes[0].servicio.url_imagen }}" >
      </ion-thumbnail>
      <p text-wrap>{{ solicitudes[0].servicio.descripcion }}</p>
    </ion-item>
    <ion-card (click)="seleccion('empleado', 'Seleccione el nutricionista')">
      <ion-row style="margin-left: 2%;margin-right: 4%;">
        <ion-col col-auto align-self-start>
          <h2>Nutricionista</h2>
        </ion-col>
        <ion-col ></ion-col>
        <ion-col col-auto align-self-end>
          {{ solicitudes[0].empleado.nombres }}
        </ion-col>
        <ion-thumbnail style="margin: auto;">
          <ion-icon name="arrow-dropdown"></ion-icon>
        </ion-thumbnail>
      </ion-row>
    </ion-card>
    <ion-card>
      <ion-row>
        <ion-col>
          <ion-label style="margin-left: 10%;">Fecha</ion-label>
        </ion-col>
        <ion-col>
          <ion-item>
            <span ion-datepicker
              (ionChanged)="setDate($event);"
              [max]="maxDate" 
              [min]="min"
              [value]="fecha"
              [showMaxAndMin]="true"
              [disabledDates]="disabledDates"
              [markDates]="markDates"
              [okText]="Aceptar"
              [cancelText]="Cancelar"
              [localeStrings]="{ weekdays: ['Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab', 'Dom'], months: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'], monday:true }"
              clear
              class="ScheduleDate">
              <span end>{{fecha | date: 'dd/MM/yyyy' }} 
                <ion-icon name="calendar" item-left></ion-icon> 
              </span>
            </span>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-card>
    <ion-card (click)="seleccion('bloque_horario', 'Seleccione la hora')">
      <ion-row style="margin-left: 2%;margin-right: 4%;">
        <ion-col col-auto align-self-start>
          <h2>Hora</h2>
        </ion-col>
        <ion-col ></ion-col>
        <ion-col col-auto align-self-end>
          {{ solicitudes[0].bloque_horario.hora_inicio }} - 
        </ion-col>
        <ion-col col-auto align-self-end>
          {{ solicitudes[0].bloque_horario.hora_fin }}
        </ion-col>        
        <ion-thumbnail style="margin: auto;">
          <ion-icon name="arrow-dropdown"></ion-icon>
        </ion-thumbnail>
      </ion-row>
    </ion-card>
    <ion-card (click)="seleccion('motivos-solicitud', 'Seleccione el motivo')">
      <ion-row style="margin-left: 2%;margin-right: 4%;">
        <ion-col col-auto align-self-start>
          <h2>Motivo</h2>
        </ion-col>
        <ion-col ></ion-col>
        <ion-col col-auto align-self-end>
          {{ solicitudes[0].motivo.descripcion }}
        </ion-col>
        <ion-thumbnail style="margin: auto;">
          <ion-icon name="arrow-dropdown"></ion-icon>
        </ion-thumbnail>
      </ion-row>
    </ion-card>
    <button ion-button color="primary" block clear (click)="solicitar()" >Solicitar</button>
  </ion-card>
</ion-content>